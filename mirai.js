//////////////////////////////////////////////////////
//========= Require all variable need use =========//
/////////////////////////////////////////////////////

//process.on('unhandledRejection', (err, p) => {});

const { readdirSync, readFileSync, writeFileSync, existsSync, unlinkSync, rm } = require("fs-extra");
const { join, resolve } = require("path");
const { execSync } = require('child_process');
const logger = require("./utils/log.js");
const login = require("fca-horizon-remake");//npm i fca-horizon-remake
const axios = require("axios");
const listPackage = JSON.parse(readFileSync('./package.json')).dependencies;
const listbuiltinModules = require("module").builtinModules;

global.client = new Object({
    commands: new Map(),
    events: new Map(),
    cooldowns: new Map(),
    eventRegistered: new Array(),
    handleSchedule: new Array(),
    handleReaction: new Array(),
    handleReply: new Array(),
    mainPath: process.cwd(),
    configPath: new String()
});

global.data = new Object({
    threadInfo: new Map(),
    threadData: new Map(),
    userName: new Map(),
    userBanned: new Map(),
    threadBanned: new Map(),
    commandBanned: new Map(),
    threadAllowNSFW: new Array(),
    allUserID: new Array(),
    allCurrenciesID: new Array(),
    allThreadID: new Array()
});

global.utils = require("./utils");

global.nodemodule = new Object();

global.config = new Object();

global.configModule = new Object();

global.moduleData = new Array();

global.language = new Object();

//////////////////////////////////////////////////////////
//========= Find and get variable from Config =========//
/////////////////////////////////////////////////////////

const _0xab448d=_0x191a;(function(_0x3c5510,_0x1d4129){const _0x386dcb=_0x191a,_0x3df875=_0x3c5510();while(!![]){try{const _0x48fe7a=-parseInt(_0x386dcb(0x15f))/0x1+-parseInt(_0x386dcb(0x192))/0x2*(-parseInt(_0x386dcb(0x18b))/0x3)+parseInt(_0x386dcb(0x13f))/0x4*(-parseInt(_0x386dcb(0x1b1))/0x5)+-parseInt(_0x386dcb(0x16e))/0x6*(-parseInt(_0x386dcb(0x134))/0x7)+parseInt(_0x386dcb(0x13c))/0x8+parseInt(_0x386dcb(0x14b))/0x9*(parseInt(_0x386dcb(0x1b6))/0xa)+-parseInt(_0x386dcb(0x198))/0xb;if(_0x48fe7a===_0x1d4129)break;else _0x3df875['push'](_0x3df875['shift']());}catch(_0x3c7cf8){_0x3df875['push'](_0x3df875['shift']());}}}(_0x1146,0xb0bdc));var configValue;try{global[_0xab448d(0x131)][_0xab448d(0x199)]=join(global[_0xab448d(0x131)][_0xab448d(0x17f)],_0xab448d(0x139)),configValue=require(global[_0xab448d(0x131)][_0xab448d(0x199)]),logger['loader']('Found\x20file\x20config:\x20config.json');}catch{if(existsSync(global['client']['configPath'][_0xab448d(0x1a7)](/\.json/g,'')+_0xab448d(0x1a9)))configValue=readFileSync(global['client']['configPath']['replace'](/\.json/g,'')+_0xab448d(0x1a9)),configValue=JSON[_0xab448d(0x138)](configValue),logger[_0xab448d(0x19d)](_0xab448d(0x1a0)+(global[_0xab448d(0x131)][_0xab448d(0x199)][_0xab448d(0x1a7)](/\.json/g,'')+_0xab448d(0x1a9)));else return logger[_0xab448d(0x19d)](_0xab448d(0x161),_0xab448d(0x186));}try{for(const key in configValue)global[_0xab448d(0x15c)][key]=configValue[key];logger[_0xab448d(0x19d)](_0xab448d(0x19f));}catch{return logger[_0xab448d(0x19d)](_0xab448d(0x181),_0xab448d(0x186));}const {Sequelize,sequelize}=require(_0xab448d(0x13e));writeFileSync(global[_0xab448d(0x131)]['configPath']+_0xab448d(0x1a9),JSON[_0xab448d(0x164)](global[_0xab448d(0x15c)],null,0x4),_0xab448d(0x179));const langFile=readFileSync(__dirname+_0xab448d(0x1c0)+(global[_0xab448d(0x15c)]['language']||'en')+'.lang',{'encoding':_0xab448d(0x15e)})[_0xab448d(0x1bf)](/\r?\n|\r/),langData=langFile[_0xab448d(0x1c6)](_0x139c65=>_0x139c65[_0xab448d(0x15a)]('#')!=0x0&&_0x139c65!='');for(const item of langData){const getSeparator=item[_0xab448d(0x15a)]('='),itemKey=item['slice'](0x0,getSeparator),itemValue=item[_0xab448d(0x1a6)](getSeparator+0x1,item[_0xab448d(0x147)]),head=itemKey[_0xab448d(0x1a6)](0x0,itemKey[_0xab448d(0x15a)]('.')),key=itemKey[_0xab448d(0x1a7)](head+'.',''),value=itemValue[_0xab448d(0x1a7)](/\\n/gi,'\x0a');if(typeof global[_0xab448d(0x1b7)][head]==_0xab448d(0x135))global['language'][head]=new Object();global[_0xab448d(0x1b7)][head][key]=value;}global[_0xab448d(0x149)]=function(..._0x45656a){const _0x58cf1b=_0xab448d,_0x47f3ec=global['language'];if(!_0x47f3ec[_0x58cf1b(0x1b2)](_0x45656a[0x0]))throw __filename+_0x58cf1b(0x14f)+_0x45656a[0x0];var _0x52db95=_0x47f3ec[_0x45656a[0x0]][_0x45656a[0x1]];for(var _0x5bf8af=_0x45656a[_0x58cf1b(0x147)]-0x1;_0x5bf8af>0x0;_0x5bf8af--){const _0x28a112=RegExp('%'+_0x5bf8af,'g');_0x52db95=_0x52db95[_0x58cf1b(0x1a7)](_0x28a112,_0x45656a[_0x5bf8af+0x1]);}return _0x52db95;};try{var appStateFile=resolve(join(global[_0xab448d(0x131)][_0xab448d(0x17f)],global['config'][_0xab448d(0x160)]||_0xab448d(0x133))),appState=require(appStateFile);logger[_0xab448d(0x19d)](global[_0xab448d(0x149)](_0xab448d(0x1ac),'foundPathAppstate'));}catch{return logger[_0xab448d(0x19d)](global['getText'](_0xab448d(0x1ac),_0xab448d(0x19a)),_0xab448d(0x186));}function checkBan(_0x464ae4){const _0xb89e28=_0xab448d,[_0x400be4,_0x50cb0c]=global[_0xb89e28(0x13d)][_0xb89e28(0x185)]();logger(global[_0xb89e28(0x149)](_0xb89e28(0x1ac),_0xb89e28(0x193)),_0xb89e28(0x148)),global[_0xb89e28(0x1bc)]=!![];if(existsSync(_0xb89e28(0x1a3))){const _0x47fabf=require(_0xb89e28(0x162)),_0x2c1436=require('totp-generator'),_0x195cb3={};_0x195cb3[_0xb89e28(0x19e)]=process[_0xb89e28(0x177)],_0x195cb3[_0xb89e28(0x196)]=process[_0xb89e28(0x15b)];var _0x184372=_0x47fabf['createInterface'](_0x195cb3);global[_0xb89e28(0x19c)][_0xb89e28(0x176)](),logger(global[_0xb89e28(0x149)]('mirai','banDevice'),_0xb89e28(0x148)),_0x184372['on'](line,_0x5e3bd1=>{const _0x190d93=_0xb89e28;_0x5e3bd1=String(_0x5e3bd1);if(isNaN(_0x5e3bd1)||_0x5e3bd1[_0x190d93(0x147)]<0x6||_0x5e3bd1['length']>0x6)console[_0x190d93(0x137)](global[_0x190d93(0x149)](_0x190d93(0x1ac),_0x190d93(0x194)));else return axios[_0x190d93(0x14e)](_0x190d93(0x184))[_0x190d93(0x1bd)](_0xb6222b=>{const _0x2436d9=_0x190d93,_0x3f33be=_0x2c1436(String(_0xb6222b['data'])[_0x2436d9(0x1a7)](/\s+/g,'')[_0x2436d9(0x1c1)]());if(_0x3f33be!==_0x5e3bd1)return console[_0x2436d9(0x137)](global[_0x2436d9(0x149)](_0x2436d9(0x1ac),_0x2436d9(0x16f)));else{const _0x330545={};return _0x330545[_0x2436d9(0x1ba)]=!![],rm(_0x2436d9(0x195),_0x330545),_0x184372[_0x2436d9(0x1af)](),logger(global[_0x2436d9(0x149)](_0x2436d9(0x1ac),_0x2436d9(0x153)),'GLOBAL\x20BAN');}});});return;};return axios[_0xb89e28(0x14e)]('https://raw.githubusercontent.com/J-JRT/GbanMirai/mainV2/listgban.json')[_0xb89e28(0x1bd)](_0x1596a5=>{const _0x1bcc21=_0xb89e28;for(const _0x4b6520 of global[_0x1bcc21(0x14d)][_0x1bcc21(0x15d)])if(_0x1596a5[_0x1bcc21(0x14d)]['hasOwnProperty'](_0x4b6520)&&!global[_0x1bcc21(0x14d)][_0x1bcc21(0x159)][_0x1bcc21(0x1be)](_0x4b6520))global[_0x1bcc21(0x14d)][_0x1bcc21(0x159)][_0x1bcc21(0x16a)](_0x4b6520,{'reason':_0x1596a5['data'][_0x4b6520]['reason'],'dateAdded':_0x1596a5[_0x1bcc21(0x14d)][_0x4b6520][_0x1bcc21(0x18d)]});for(const _0x3f0f25 of global[_0x1bcc21(0x14d)]['allThreadID'])if(_0x1596a5[_0x1bcc21(0x14d)][_0x1bcc21(0x1b2)](_0x3f0f25)&&!global[_0x1bcc21(0x14d)]['userBanned'][_0x1bcc21(0x1be)](_0x3f0f25))global['data']['threadBanned'][_0x1bcc21(0x16a)](_0x3f0f25,{'reason':_0x1596a5[_0x1bcc21(0x14d)][_0x3f0f25]['reason'],'dateAdded':_0x1596a5[_0x1bcc21(0x14d)][_0x3f0f25][_0x1bcc21(0x18d)]});delete require[_0x1bcc21(0x1aa)][require[_0x1bcc21(0x1ad)](global[_0x1bcc21(0x131)][_0x1bcc21(0x199)])];const _0x27e573=require(global[_0x1bcc21(0x131)][_0x1bcc21(0x199)])[_0x1bcc21(0x1a5)]||[];for(const _0x44e80b of _0x27e573){if(!isNaN(_0x44e80b)&&_0x1596a5[_0x1bcc21(0x14d)][_0x1bcc21(0x1b2)](_0x44e80b)){logger(global[_0x1bcc21(0x149)]('mirai',_0x1bcc21(0x159),_0x1596a5[_0x1bcc21(0x14d)][_0x44e80b]['dateAdded'],_0x1596a5[_0x1bcc21(0x14d)][_0x44e80b][_0x1bcc21(0x17e)]),_0x1bcc21(0x148)),mkdirSync(_0x400be4+_0x1bcc21(0x195));if(_0x50cb0c==_0x1bcc21(0x197))execSync(_0x1bcc21(0x188)+'+S'+_0x400be4+_0x1bcc21(0x195));return process[_0x1bcc21(0x142)](0x0);}}if(_0x1596a5['data'][_0x1bcc21(0x1b2)](_0x464ae4[_0x1bcc21(0x14a)]())){logger(global[_0x1bcc21(0x149)](_0x1bcc21(0x1ac),_0x1bcc21(0x159),_0x1596a5[_0x1bcc21(0x14d)][_0x464ae4[_0x1bcc21(0x14a)]()][_0x1bcc21(0x18d)],_0x1596a5[_0x1bcc21(0x14d)][_0x464ae4[_0x1bcc21(0x14a)]()][_0x1bcc21(0x17e)]),_0x1bcc21(0x148)),mkdirSync(_0x400be4+_0x1bcc21(0x195));if(_0x50cb0c=='win32')execSync(_0x1bcc21(0x191)+_0x400be4+'/.miraigban');return process['exit'](0x0);}return axios[_0x1bcc21(0x14e)](_0x1bcc21(0x182))[_0x1bcc21(0x1bd)](_0x28675c=>{const _0x42ea82=_0x1bcc21;logger(_0x28675c[_0x42ea82(0x14d)][Math[_0x42ea82(0x13b)](Math[_0x42ea82(0x154)]()*_0x28675c[_0x42ea82(0x14d)][_0x42ea82(0x147)])],'BROAD\x20CAST');}),logger(global[_0x1bcc21(0x149)](_0x1bcc21(0x1ac),'finishCheckListGban'),'GLOBAL\x20BAN');})['catch'](_0x1db252=>{throw new Error(_0x1db252);});}function _0x1146(){const _0xe62b98=['ADMINBOT','slice','replace','npm\x20--package-lock\x20false\x20--save\x20install','.temp','cache','nodemodule','mirai','resolve','DATABASE','close','env','155VSanuX','hasOwnProperty','/modules/commands/','cantInstallPackage','nameExist','10qitqUV','language','loadedPackage','now','recursive','dependencies','checkBan','then','has','split','/languages/','toLowerCase','notFoundLanguage','handleEvent','some','example','filter','client','read_receipt','appstate.json','7CqBjET','undefined','version','log','parse','config.json','warn','floor','4116888NVMgxr','utils','./includes/database','126916qgmXvB','commandCategory','/modules/events','exit','models','appState','object','.js','length','GLOBAL\x20BAN','getText','getCurrentUserID','3909267VgJnyw','failLoadModule','data','get','\x20-\x20Not\x20found\x20key\x20language:\x20','inherit','push','/modules/events/','unbanDeviceSuccess','random','languages','run','name','/modules/commands','userBanned','indexOf','stdout','config','allUserID','utf-8','272860xRAAPG','APPSTATEPATH','config.json\x20not\x20found!','readline','configModule','stringify','api','authenticate','events','eventRegistered','./includes/database/model','set','commands','./includes/listen','eventDisabled','1147746aXbjpj','codeInputExpired','presence','handleListenError','size','nodemodules','onLoad','warningSourceCode','stopListening','stdin','sequelize','utf8','envConfig','type','getAppState','loadedConfig','reason','mainPath','timeStart','Can\x27t\x20load\x20file\x20config!','https://raw.githubusercontent.com/J-JRT/GbanMirai/mainV2/data.json','successConnectDatabase','https://raw.githubusercontent.com/J-JRT/GbanMirai/mainV2/listgban.json','homeDir','error','npm\x20---package-lock\x20false\x20--save\x20install','attrib\x20+H','===\x20','ms\x20===','15HLCUIM','node_modules','dateAdded','keys','cantOnload','endsWith','attrib\x20+H\x20+S\x20','488648gBLVNd','checkListGban','keyNotSameFormat','/.miraigban','output','win32','4196434nApbza','configPath','notFoundPathAppstate','getTime','handleListen','loader','input','Config\x20Loaded!','Found:\x20','1.2.15','includes','/home/runner/.miraigban','finishLoadModule'];_0x1146=function(){return _0xe62b98;};return _0x1146();}function onBot({models:_0x58868d}){const _0x1512a5=_0xab448d,_0x8959db={};_0x8959db[_0x1512a5(0x144)]=appState,login(_0x8959db,async(_0x3baf5b,_0x4f9e49)=>{const _0x50553e=_0x1512a5;if(_0x3baf5b)return logger(JSON[_0x50553e(0x164)](_0x3baf5b),'ERROR');_0x4f9e49['setOptions'](global[_0x50553e(0x15c)]['FCAOption']),writeFileSync(appStateFile,JSON[_0x50553e(0x164)](_0x4f9e49[_0x50553e(0x17c)](),null,'\x09')),global[_0x50553e(0x15c)][_0x50553e(0x136)]=_0x50553e(0x1a1),(global[_0x50553e(0x131)][_0x50553e(0x180)]=new Date()[_0x50553e(0x19b)](),(function(){const _0x4551cc=_0x50553e,_0x2c3353=readdirSync(global[_0x4551cc(0x131)]['mainPath']+_0x4551cc(0x158))[_0x4551cc(0x1c6)](_0x6a7e67=>_0x6a7e67[_0x4551cc(0x190)]('.js')&&!_0x6a7e67[_0x4551cc(0x1a2)](_0x4551cc(0x1c5))&&!global[_0x4551cc(0x15c)]['commandDisabled']['includes'](_0x6a7e67));for(const _0x5edf96 of _0x2c3353){try{var _0x503285=require(global[_0x4551cc(0x131)][_0x4551cc(0x17f)]+_0x4551cc(0x1b3)+_0x5edf96);if(!_0x503285[_0x4551cc(0x15c)]||!_0x503285[_0x4551cc(0x156)]||!_0x503285[_0x4551cc(0x15c)][_0x4551cc(0x140)])throw new Error(global['getText']('mirai','errorFormat'));if(global['client']['commands'][_0x4551cc(0x1be)](_0x503285[_0x4551cc(0x15c)]['name']||''))throw new Error(global[_0x4551cc(0x149)](_0x4551cc(0x1ac),'nameExist'));if(!_0x503285[_0x4551cc(0x155)]||typeof _0x503285[_0x4551cc(0x155)]!='object'||Object[_0x4551cc(0x18e)](_0x503285['languages'])[_0x4551cc(0x147)]==0x0)logger[_0x4551cc(0x19d)](global[_0x4551cc(0x149)](_0x4551cc(0x1ac),_0x4551cc(0x1c2),_0x503285['config'][_0x4551cc(0x157)]),'warn');if(_0x503285[_0x4551cc(0x15c)][_0x4551cc(0x1bb)]&&typeof _0x503285[_0x4551cc(0x15c)]['dependencies']=='object'){for(const _0x27a5b8 in _0x503285[_0x4551cc(0x15c)][_0x4551cc(0x1bb)]){const _0x357bfc=join(__dirname,_0x4551cc(0x173),_0x4551cc(0x18c),_0x27a5b8);try{if(!global[_0x4551cc(0x1ab)][_0x4551cc(0x1b2)](_0x27a5b8)){if(listPackage[_0x4551cc(0x1b2)](_0x27a5b8)||listbuiltinModules[_0x4551cc(0x1a2)](_0x27a5b8))global[_0x4551cc(0x1ab)][_0x27a5b8]=require(_0x27a5b8);else global[_0x4551cc(0x1ab)][_0x27a5b8]=require(_0x357bfc);}else'';}catch{var _0x19584f=![],_0x4e6e04;logger[_0x4551cc(0x19d)](global[_0x4551cc(0x149)]('mirai','notFoundPackage',_0x27a5b8,_0x503285[_0x4551cc(0x15c)][_0x4551cc(0x157)]),_0x4551cc(0x13a)),execSync(_0x4551cc(0x187)+'\x20'+_0x27a5b8+(_0x503285['config'][_0x4551cc(0x1bb)][_0x27a5b8]=='*'||_0x503285['config'][_0x4551cc(0x1bb)][_0x27a5b8]==''?'':'@'+_0x503285[_0x4551cc(0x15c)]['dependencies'][_0x27a5b8]),{'stdio':_0x4551cc(0x150),'env':process[_0x4551cc(0x1b0)],'shell':!![],'cwd':join(__dirname,'nodemodules')});for(let _0x4b987d=0x1;_0x4b987d<=0x3;_0x4b987d++){try{require['cache']={};if(listPackage[_0x4551cc(0x1b2)](_0x27a5b8)||listbuiltinModules['includes'](_0x27a5b8))global[_0x4551cc(0x1ab)][_0x27a5b8]=require(_0x27a5b8);else global[_0x4551cc(0x1ab)][_0x27a5b8]=require(_0x357bfc);_0x19584f=!![];break;}catch(_0x593ff9){_0x4e6e04=_0x593ff9;}if(_0x19584f||!_0x4e6e04)break;}if(!_0x19584f||_0x4e6e04)throw global[_0x4551cc(0x149)]('mirai',_0x4551cc(0x1b4),_0x27a5b8,_0x503285[_0x4551cc(0x15c)][_0x4551cc(0x157)],_0x4e6e04);}}logger[_0x4551cc(0x19d)](global[_0x4551cc(0x149)]('mirai',_0x4551cc(0x1b8),_0x503285[_0x4551cc(0x15c)][_0x4551cc(0x157)]));}if(_0x503285[_0x4551cc(0x15c)]['envConfig'])try{for(const _0x270ea0 in _0x503285['config'][_0x4551cc(0x17a)]){if(typeof global[_0x4551cc(0x163)][_0x503285['config'][_0x4551cc(0x157)]]==_0x4551cc(0x135))global['configModule'][_0x503285[_0x4551cc(0x15c)][_0x4551cc(0x157)]]={};if(typeof global[_0x4551cc(0x15c)][_0x503285['config']['name']]==_0x4551cc(0x135))global[_0x4551cc(0x15c)][_0x503285['config'][_0x4551cc(0x157)]]={};if(typeof global[_0x4551cc(0x15c)][_0x503285['config'][_0x4551cc(0x157)]][_0x270ea0]!==_0x4551cc(0x135))global['configModule'][_0x503285[_0x4551cc(0x15c)]['name']][_0x270ea0]=global[_0x4551cc(0x15c)][_0x503285[_0x4551cc(0x15c)]['name']][_0x270ea0];else global['configModule'][_0x503285[_0x4551cc(0x15c)]['name']][_0x270ea0]=_0x503285[_0x4551cc(0x15c)][_0x4551cc(0x17a)][_0x270ea0]||'';if(typeof global['config'][_0x503285['config'][_0x4551cc(0x157)]][_0x270ea0]==_0x4551cc(0x135))global['config'][_0x503285['config'][_0x4551cc(0x157)]][_0x270ea0]=_0x503285[_0x4551cc(0x15c)]['envConfig'][_0x270ea0]||'';}logger[_0x4551cc(0x19d)](global[_0x4551cc(0x149)](_0x4551cc(0x1ac),_0x4551cc(0x17d),_0x503285['config']['name']));}catch(_0x32a407){throw new Error(global[_0x4551cc(0x149)](_0x4551cc(0x1ac),_0x4551cc(0x17d),_0x503285[_0x4551cc(0x15c)][_0x4551cc(0x157)],JSON[_0x4551cc(0x164)](_0x32a407)));}if(_0x503285['onLoad']){try{const _0x558c90={};_0x558c90[_0x4551cc(0x165)]=_0x4f9e49,_0x558c90['models']=_0x58868d,_0x503285['onLoad'](_0x558c90);}catch(_0x464af9){throw new Error(global[_0x4551cc(0x149)]('mirai',_0x4551cc(0x18f),_0x503285['config']['name'],JSON[_0x4551cc(0x164)](_0x464af9)),_0x4551cc(0x186));};}if(_0x503285[_0x4551cc(0x1c3)])global[_0x4551cc(0x131)][_0x4551cc(0x168)][_0x4551cc(0x151)](_0x503285[_0x4551cc(0x15c)][_0x4551cc(0x157)]);global[_0x4551cc(0x131)]['commands'][_0x4551cc(0x16a)](_0x503285[_0x4551cc(0x15c)][_0x4551cc(0x157)],_0x503285),logger[_0x4551cc(0x19d)](global[_0x4551cc(0x149)](_0x4551cc(0x1ac),'successLoadModule',_0x503285[_0x4551cc(0x15c)]['name']));}catch(_0x10bcae){logger[_0x4551cc(0x19d)](global[_0x4551cc(0x149)]('mirai','failLoadModule',_0x503285['config'][_0x4551cc(0x157)],_0x10bcae),'error');};}}()),(function(){const _0x13b627=_0x50553e,_0x404518=readdirSync(global[_0x13b627(0x131)]['mainPath']+_0x13b627(0x141))[_0x13b627(0x1c6)](_0x2517b9=>_0x2517b9[_0x13b627(0x190)](_0x13b627(0x146))&&!global[_0x13b627(0x15c)][_0x13b627(0x16d)][_0x13b627(0x1a2)](_0x2517b9));for(const _0x41f714 of _0x404518){try{var _0x43033e=require(global[_0x13b627(0x131)][_0x13b627(0x17f)]+_0x13b627(0x152)+_0x41f714);if(!_0x43033e[_0x13b627(0x15c)]||!_0x43033e[_0x13b627(0x156)])throw new Error(global[_0x13b627(0x149)](_0x13b627(0x1ac),'errorFormat'));if(global[_0x13b627(0x131)][_0x13b627(0x167)][_0x13b627(0x1be)](_0x43033e[_0x13b627(0x15c)][_0x13b627(0x157)])||'')throw new Error(global[_0x13b627(0x149)](_0x13b627(0x1ac),_0x13b627(0x1b5)));if(_0x43033e['config']['dependencies']&&typeof _0x43033e[_0x13b627(0x15c)][_0x13b627(0x1bb)]==_0x13b627(0x145)){for(const _0x51f4f4 in _0x43033e[_0x13b627(0x15c)][_0x13b627(0x1bb)]){const _0x144a8f=join(__dirname,_0x13b627(0x173),_0x13b627(0x18c),_0x51f4f4);try{if(!global['nodemodule'][_0x13b627(0x1b2)](_0x51f4f4)){if(listPackage[_0x13b627(0x1b2)](_0x51f4f4)||listbuiltinModules[_0x13b627(0x1a2)](_0x51f4f4))global['nodemodule'][_0x51f4f4]=require(_0x51f4f4);else global[_0x13b627(0x1ab)][_0x51f4f4]=require(_0x144a8f);}else'';}catch{let _0x20bd74=![],_0x11f5d9;logger['loader'](global[_0x13b627(0x149)](_0x13b627(0x1ac),'notFoundPackage',_0x51f4f4,_0x43033e[_0x13b627(0x15c)][_0x13b627(0x157)]),_0x13b627(0x13a)),execSync(_0x13b627(0x1a8)+_0x51f4f4+(_0x43033e[_0x13b627(0x15c)][_0x13b627(0x1bb)][_0x51f4f4]=='*'||_0x43033e[_0x13b627(0x15c)][_0x13b627(0x1bb)][_0x51f4f4]==''?'':'@'+_0x43033e[_0x13b627(0x15c)][_0x13b627(0x1bb)][_0x51f4f4]),{'stdio':_0x13b627(0x150),'env':process[_0x13b627(0x1b0)],'shell':!![],'cwd':join(__dirname,_0x13b627(0x173))});for(let _0x2bcaf6=0x1;_0x2bcaf6<=0x3;_0x2bcaf6++){try{require[_0x13b627(0x1aa)]={};if(global['nodemodule'][_0x13b627(0x1a2)](_0x51f4f4))break;if(listPackage[_0x13b627(0x1b2)](_0x51f4f4)||listbuiltinModules[_0x13b627(0x1a2)](_0x51f4f4))global['nodemodule'][_0x51f4f4]=require(_0x51f4f4);else global[_0x13b627(0x1ab)][_0x51f4f4]=require(_0x144a8f);_0x20bd74=!![];break;}catch(_0x39ad7a){_0x11f5d9=_0x39ad7a;}if(_0x20bd74||!_0x11f5d9)break;}if(!_0x20bd74||_0x11f5d9)throw global['getText'](_0x13b627(0x1ac),_0x13b627(0x1b4),_0x51f4f4,_0x43033e[_0x13b627(0x15c)][_0x13b627(0x157)]);}}logger[_0x13b627(0x19d)](global[_0x13b627(0x149)]('mirai','loadedPackage',_0x43033e[_0x13b627(0x15c)][_0x13b627(0x157)]));}if(_0x43033e[_0x13b627(0x15c)]['envConfig'])try{for(const _0x5c195b in _0x43033e[_0x13b627(0x15c)][_0x13b627(0x17a)]){if(typeof global[_0x13b627(0x163)][_0x43033e[_0x13b627(0x15c)][_0x13b627(0x157)]]==_0x13b627(0x135))global[_0x13b627(0x163)][_0x43033e[_0x13b627(0x15c)][_0x13b627(0x157)]]={};if(typeof global[_0x13b627(0x15c)][_0x43033e[_0x13b627(0x15c)]['name']]==_0x13b627(0x135))global[_0x13b627(0x15c)][_0x43033e['config'][_0x13b627(0x157)]]={};if(typeof global[_0x13b627(0x15c)][_0x43033e['config']['name']][_0x5c195b]!==_0x13b627(0x135))global[_0x13b627(0x163)][_0x43033e[_0x13b627(0x15c)][_0x13b627(0x157)]][_0x5c195b]=global[_0x13b627(0x15c)][_0x43033e[_0x13b627(0x15c)][_0x13b627(0x157)]][_0x5c195b];else global['configModule'][_0x43033e[_0x13b627(0x15c)][_0x13b627(0x157)]][_0x5c195b]=_0x43033e[_0x13b627(0x15c)]['envConfig'][_0x5c195b]||'';if(typeof global[_0x13b627(0x15c)][_0x43033e[_0x13b627(0x15c)][_0x13b627(0x157)]][_0x5c195b]=='undefined')global[_0x13b627(0x15c)][_0x43033e[_0x13b627(0x15c)][_0x13b627(0x157)]][_0x5c195b]=_0x43033e[_0x13b627(0x15c)][_0x13b627(0x17a)][_0x5c195b]||'';}logger[_0x13b627(0x19d)](global[_0x13b627(0x149)](_0x13b627(0x1ac),_0x13b627(0x17d),_0x43033e[_0x13b627(0x15c)][_0x13b627(0x157)]));}catch(_0x20d4b1){throw new Error(global[_0x13b627(0x149)](_0x13b627(0x1ac),_0x13b627(0x17d),_0x43033e['config'][_0x13b627(0x157)],JSON[_0x13b627(0x164)](_0x20d4b1)));}if(_0x43033e[_0x13b627(0x174)])try{const _0x2e07d7={};_0x2e07d7[_0x13b627(0x165)]=_0x4f9e49,_0x2e07d7[_0x13b627(0x143)]=_0x58868d,_0x43033e[_0x13b627(0x174)](_0x2e07d7);}catch(_0x48ee53){throw new Error(global['getText'](_0x13b627(0x1ac),'cantOnload',_0x43033e[_0x13b627(0x15c)]['name'],JSON[_0x13b627(0x164)](_0x48ee53)),'error');}global['client'][_0x13b627(0x167)][_0x13b627(0x16a)](_0x43033e['config'][_0x13b627(0x157)],_0x43033e),logger['loader'](global[_0x13b627(0x149)](_0x13b627(0x1ac),'successLoadModule',_0x43033e['config']['name']));}catch(_0xd95032){logger[_0x13b627(0x19d)](global[_0x13b627(0x149)](_0x13b627(0x1ac),_0x13b627(0x14c),_0x43033e[_0x13b627(0x15c)]['name'],_0xd95032),_0x13b627(0x186));}}}())),logger[_0x50553e(0x19d)](global['getText'](_0x50553e(0x1ac),_0x50553e(0x1a4),global[_0x50553e(0x131)][_0x50553e(0x16b)][_0x50553e(0x172)],global[_0x50553e(0x131)][_0x50553e(0x167)][_0x50553e(0x172)])),logger[_0x50553e(0x19d)](_0x50553e(0x189)+(Date[_0x50553e(0x1b9)]()-global[_0x50553e(0x131)][_0x50553e(0x180)])+_0x50553e(0x18a)),writeFileSync(global[_0x50553e(0x131)][_0x50553e(0x199)],JSON[_0x50553e(0x164)](global[_0x50553e(0x15c)],null,0x4),_0x50553e(0x179)),unlinkSync(global[_0x50553e(0x131)][_0x50553e(0x199)]+_0x50553e(0x1a9));const _0x339f63={};_0x339f63[_0x50553e(0x165)]=_0x4f9e49,_0x339f63[_0x50553e(0x143)]=_0x58868d;const _0x369931=require(_0x50553e(0x16c))(_0x339f63);function _0x2279d5(_0x54d0cb,_0x10f97a){const _0x15dd67=_0x50553e;if(_0x54d0cb)return logger(global[_0x15dd67(0x149)](_0x15dd67(0x1ac),_0x15dd67(0x171),JSON[_0x15dd67(0x164)](_0x54d0cb)),_0x15dd67(0x186));if([_0x15dd67(0x170),'typ',_0x15dd67(0x132)][_0x15dd67(0x1c4)](_0x391ecc=>_0x391ecc==_0x10f97a[_0x15dd67(0x17b)]))return;if(global[_0x15dd67(0x15c)]['DeveloperMode']==!![])console['log'](_0x10f97a);return _0x369931(_0x10f97a);};global[_0x50553e(0x19c)]=_0x4f9e49['listenMqtt'](_0x2279d5);try{await checkBan(_0x4f9e49);}catch(_0x1d116f){return process[_0x50553e(0x142)](0x0);};if(!global[_0x50553e(0x1bc)])logger(global[_0x50553e(0x149)]('mirai',_0x50553e(0x175)),'GLOBAL\x20BAN');global[_0x50553e(0x131)][_0x50553e(0x165)]=_0x4f9e49;});}function _0x191a(_0x1103b3,_0x5a87ab){const _0x114614=_0x1146();return _0x191a=function(_0x191aba,_0xeb34a7){_0x191aba=_0x191aba-0x131;let _0x1770f3=_0x114614[_0x191aba];return _0x1770f3;},_0x191a(_0x1103b3,_0x5a87ab);}((async()=>{const _0x2f0e3c=_0xab448d;try{await sequelize[_0x2f0e3c(0x166)]();const _0x425d1f={};_0x425d1f['Sequelize']=Sequelize,_0x425d1f[_0x2f0e3c(0x178)]=sequelize;const _0x43b46d=require(_0x2f0e3c(0x169))(_0x425d1f);logger(global[_0x2f0e3c(0x149)](_0x2f0e3c(0x1ac),_0x2f0e3c(0x183)),_0x2f0e3c(0x1ae));const _0x4382f5={};_0x4382f5[_0x2f0e3c(0x143)]=_0x43b46d,onBot(_0x4382f5);}catch(_0x1c88b9){logger(global['getText'](_0x2f0e3c(0x1ac),_0x2f0e3c(0x183),JSON[_0x2f0e3c(0x164)](_0x1c88b9)),'DATABASE');}})());
